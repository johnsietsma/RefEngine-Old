cmake_minimum_required(VERSION 2.8 FATAL_ERROR)

project("RefEngine")

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")

include_directories(dep/aieutilities)
include_directories(dep/glew-1.12.0/include)
include_directories(dep/glm)
include_directories(dep/glfw/include)
include_directories(dep/FBXLoader)
include_directories(dep/stb)
include_directories(RefEngine)

IF(APPLE)
    include_directories("/Applications/Autodesk/FBX SDK/2015.1/include")
ENDIF (APPLE)

add_executable(refeng
    RefEngine/Camera.cpp
    RefEngine/GameObject.cpp
    RefEngine/MeshRenderer.cpp
    RefEngine/Prims.cpp
    RefEngine/ShaderManager.cpp
    RefEngine/Color.cpp
    RefEngine/Main.cpp
    RefEngine/Renderable.cpp
    RefEngine/TestBed.cpp
    RefEngine/GLHelpers.cpp
    RefEngine/Material.cpp
    RefEngine/OpenGLTypes.cpp
    RefEngine/Renderer.cpp
    RefEngine/gl_core_4_4.c
    dep/FBXLoader/FBXFile.cpp
    dep/aieutilities/aie/Gizmos.cpp
)
target_link_libraries(refeng ${CMAKE_SOURCE_DIR}/dep/FBXLoader/libfbxsdk.a)
target_link_libraries(refeng ${CMAKE_SOURCE_DIR}/dep/glfw/lib/libglfw3.a)
target_link_libraries(refeng ${CMAKE_SOURCE_DIR}/dep/glew-1.12.0/lib/libGLEW.a)
#target_link_libraries(refeng ${CMAKE_SOURCE_DIR}/System/Library/Frameworks/OpenGL.framework)

IF(APPLE)
   INCLUDE_DIRECTORIES ( /System/Library/Frameworks )
   FIND_LIBRARY(CORE_VIDEO_LIBRARY CoreVideo)
   FIND_LIBRARY(COCOA_LIBRARY Cocoa)
   FIND_LIBRARY(CARBON_LIBRARY Carbon)
   FIND_LIBRARY(OpenGL_LIBRARY OpenGL)
   FIND_LIBRARY(IOKIT_LIBRARY IOKit)
   MARK_AS_ADVANCED (CARBON_LIBRARY CORE_VIDEO_LIBRARY COCOA_LIBRARY OpenGL_LIBRARY IOKIT_LIBRARY)
   SET(EXTRA_LIBS ${CARBON_LIBRARY} ${CORE_VIDEO_LIBRARY} ${COCOA_LIBRARY} ${OpenGL_LIBRARY} ${IOKIT_LIBRARY})
ENDIF (APPLE)

target_link_libraries(refeng ${EXTRA_LIBS})
